<head>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" type="image/png" href="img/dodo.png" />
    <title>DodoDraw 2.0</title>
	<script src="script.js" > </script> 
	<script>
        //random face
        function randomFace() { extractImg = function (i, f) { return parseInt(Math.random() * f); } }
        
        function FaceDim() {
            singleImgH = document.getElementById("newH").value;
            singleImgW = document.getElementById("newW").value;
            document.getElementById("menu").style.display  = "none"
        }
        function CleanCanvas() {
            ctx.clearRect(60, 60, canvas.width, canvas.height);
            inUseFunction = defaultImg;
        }
        function setExtract() {
            extractImg = function () { return document.getElementById("functionalToFunction2"); }
        }
        function downloadCanvas() {
            var URL = canvas.toDataURL().replace("image/png", "application/octet-stream");
            var link = document.createElement("a");
            link.style.display = "none"
            document.body.appendChild(link);
            link.href = URL;
            link.target = "_blank";
            link.click();
            //window.location.href  = (URL);
        }
        function upload() {
            var ss = document.getElementById("uploadFile").click();
        }
        function applicateUploadToCanvas(e) {
            var up = e.path[0].files;
            var img = document.createElement("img");
            img.src = up;
            document.body.appendChild(img)
            if (up[0] != undefined && up[0] != null) {
                ctx.drawImage(up[0], 0, 0, canvas.height, canvas.width);
            }
        }
        function doNotDrawTillMenuIsOn() { boolDraw = false;}
	</script>
</head>
<body onload="init()">
    <!-- <div class="header">Welcome to DODODraw v1!</div> -->
	<canvas id="canvas"> Canvas not supported </canvas>
	<div id="img" style="display:none" >
		<!--  Per aggiungere foto basta aggiungere una img con id foto# (numero di quella prima+1)-->
		<img src="img/faces/assioli.png" id="foto0" height="40" width="40" /> 
        <img src="img/faces/dodo.png" id="foto1" height="40" width="40" />
        <img src="img/faces/vetto.png" id="foto2" height="40" width="40" /> 
        <img src="img/faces/ennio.png" id="foto3" height="40" width="40" />
        <img src="img/faces/malo.png" id="foto4" height="40" width="40" />
        <img src="img/faces/agab.png" id="foto5" height="40" width="40" />
        <img src="img/faces/loot.png" id="foto6" height="40" width="40" />
        <img src="img/faces/peecco.png" id="foto7" height="40" width="40" /> 
	</div>
	<div id="fu" style ="display:none">
        <img src="img/functions/free_rainbow.png" id="functions0" height="40" width="40" data-todo="randomFace" />
        <!--<img src="img/games-icon.png" id="functions1" height="40" width="40" data-todo="ss" /> dev. dropped, usless -->
        <img src="img/functions/CLEANSWEEP.png" id="functions1" height="40" width="40" data-todo="CleanCanvas" />
        <img src="img/functions/gomma.png" id="functions2" height="40" width="40" data-todo="setExtract" />
        <img src="img/functions/gomma1.png" id="functionalToFunction2" height="40" width="40" />
        <img src="img/functions/arrow.png" id="functions3" height="40" width="40" data-todo="downloadCanvas" />
        <!--<img src="img/upload.png" id="functions4" height="40" width="40" data-todo="upload" /> -->
        <input type="file" id="uploadFile" />
    </div>
    <!-- menu popup right click-->
    <div id="menu" style="display:none" class="menu" onmousemove="doNotDrawTillMenuIsOn()">
        <div id="overPart" class="textMenu">
            <center>Height</center><br />
            <input class="textMenu" type="text" id="newH" /> <br />
            <center>Width</center> <br />
            <input class="textMenu" type="text" id="newW" /><br />
            <input class="textMenu" type="button" onclick="FaceDim()" value="Change Face Dimension"/>
        </div>
    </div>
</body>